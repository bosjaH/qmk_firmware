
#include QMK_KEYBOARD_H

// Layers
enum layer_id {
    L_DEFAULT,
    L_DEFAULT_ANSI,
    L_GAME,
    L_SPACE_FN,
    L_EXTENDED,
    L_EXTENDED_LOCK,
    L_BROWSING,
    L_NUMPAD,
    L_CONFIG
};

// Fillers to make layering more clear
#define ______ KC_TRNS
#define XXXXXX KC_NO

// Func macro definitions.
#define S_LED   FUNC(0)
#define S_LEDI  FUNC(1)
#define S_LEDD  FUNC(2)

// Enable these functions using FUNC(n) macro.
const uint16_t PROGMEM fn_actions[] = {
  [0] = ACTION_BACKLIGHT_TOGGLE(),
  [1] = ACTION_BACKLIGHT_INCREASE(),
  [2] = ACTION_BACKLIGHT_DECREASE()
 };

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    /* Keymap 0: Default Layer (using ISO backslash)
     * Keymap 1: Default Layer (using ANSI backslash)
     * ,-----------------------------------------------------------.
     * |Esc|  1|  2|  3|  4|  5|  6|  7|  8|  9|  0|  -|  =|Backspc|
     * |-----------------------------------------------------------|
     * |Tab  |  Q|  W|  E|  R|  T|  Y|  U|  I|  O|  P|  [|  ]|    \|
     * |-----------------------------------------------------------|
     * |ExtFN |  A|  S|  D|  F|  G|  H|  J|  K|  L|  ;|  '|  Return|
     * |-----------------------------------------------------------|
     * |Shift   |  Z|  X|  C|  V|  B|  N|  M|  ,|  .|  /|     Shift|
     * |-----------------------------------------------------------|
     * |Ctrl|Gui |Alt |        SpaceFN         |Alt |Gui |App |Ctrl|
     * `-----------------------------------------------------------'
     */
  [L_DEFAULT] = LAYOUT(
      KC_ESC,   KC_1,     KC_2,     KC_3,    KC_4,     KC_5,     KC_6,     KC_7,    KC_8,  KC_9,     KC_0,     KC_MINS,  KC_EQL,   KC_BSPC,  \
      KC_TAB,   KC_Q,     KC_W,     KC_E,    KC_R,     KC_T,     KC_Y,     KC_U,    KC_I,  KC_O,     KC_P,     KC_LBRC,  KC_RBRC,  KC_NUBS,  \
      KC_CAPS,  KC_A,     KC_S,     KC_D,    KC_F,     KC_G,     KC_H,     KC_J,    KC_K,  KC_L,     KC_SCLN,  KC_QUOT,  KC_NO,    KC_ENT,   \
      KC_LSFT,  KC_NO,    KC_Z,     KC_X,    KC_C,     KC_V,     KC_B,     KC_N,    KC_M,  KC_COMM,  KC_DOT,   KC_SLSH,  KC_NO,    KC_RSFT,  \
      KC_LCTL,  KC_LGUI,  KC_LALT,                     KC_SPC,                             KC_NO,    KC_RALT,  KC_RGUI,  KC_APP,   KC_RCTL \
      ),
  [L_DEFAULT_ANSI] = LAYOUT(
      KC_ESC,   KC_1,     KC_2,     KC_3,    KC_4,     KC_5,     KC_6,     KC_7,    KC_8,  KC_9,     KC_0,     KC_MINS,  KC_EQL,   KC_BSPC,  \
      KC_TAB,   KC_Q,     KC_W,     KC_E,    KC_R,     KC_T,     KC_Y,     KC_U,    KC_I,  KC_O,     KC_P,     KC_LBRC,  KC_RBRC,  KC_BSLS,  \
      KC_CAPS,  KC_A,     KC_S,     KC_D,    KC_F,     KC_G,     KC_H,     KC_J,    KC_K,  KC_L,     KC_SCLN,  KC_QUOT,  KC_NO,    KC_ENT,   \
      KC_LSFT,  KC_NO,    KC_Z,     KC_X,    KC_C,     KC_V,     KC_B,     KC_N,    KC_M,  KC_COMM,  KC_DOT,   KC_SLSH,  KC_NO,    KC_RSFT,  \
      KC_LCTL,  KC_LGUI,  KC_LALT,                     KC_SPC,                             KC_NO,    KC_RALT,  KC_RGUI,  KC_APP,   KC_RCTL \
      ),

	  /* Overlay: Game Layer (disable left win and SpaceFN)
     * ,-----------------------------------------------------------.
     * |   |   |   |   |   |   |   |   |   |   |   |   |   |Backspc|
     * |-----------------------------------------------------------|
     * |     |   |   |   |   |   |   |   |   |   |   |   |   |     |
     * |-----------------------------------------------------------|
     * |      |   |   |   |   |   |   |   |   |   |   |   |        |
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |   |   |   |   |   |          |
     * |-----------------------------------------------------------|
     * |    | NO |    |         Space          |    |    |NpFN|    |
     * `-----------------------------------------------------------'
     */
  [L_GAME] = LAYOUT(
        ______,______,______,______,______,______,______,______,______,______,______,______,______,KC_BSPC, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       ______, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,XXXXXX,______,                     KC_SPC,             ,______,______,______,LT(L_NUMPAD),______ \
        ),
    KEYMAP_ANSI(
        ______,______,______,______,______,______,______,______,______,______,______,______,______,BSPC, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       ______, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,XXXXXX,______,           SPC,                                  ______,______, FN4  ,______),

    /* Overlay: SpaceFN Layer
     * ,-----------------------------------------------------------.
     * |   |  ||  @|  #|   |   |   |   |   |  {|  }|   |   | Delete|
     * |-----------------------------------------------------------|
     * |     |   |   |  [|  ]|Mb4|Mb5|Hom|Up |End|   |  [|  ]|    \|
     * |-----------------------------------------------------------|
     * |CAPS  |   |   |  {|  }|Spc|PgU|Lef|Dow|Rig|  Â´|  `|        |
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |Spc|PgD|WLe|WRi|   |  ~|          |
     * |-----------------------------------------------------------|
     * |    |    |    |                        |    |    |    |    |
     * `-----------------------------------------------------------'
     * Br: Browser (forward/back)
     */
  [4] = LAYOUT(
        ______,RALT(KC_1),RALT(KC_2),RALT(KC_3),______,______,______,______,______,RALT(KC_9),RALT(KC_0),______,______,KC_DEL, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,RALT(KC_NUBS), \
        ______,______,______,______,______,______,______,______,______,______,______,______,       ______, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,______,______,                     ______,                     ______,______,______,______),
  ),
    KEYMAP_ANSI(
        ______,FN10,FN11,FN12,______,______,______,______,______,FN13,FN14,______,______, DEL, \
        ______,______,______,FN15,FN16,BTN4,BTN5,HOME,  UP, END,______,FN15,FN16,FN17, \
        CAPS,______,______,FN13,FN14, SPC,PGUP,LEFT,DOWN,RGHT,FN18,FN19,     ______, \
        ______,______,______,______,______, SPC,PGDN,FN21,FN22,______,FN20,          ______, \
        ______,______,______,          ______,                    ______,______,______,______),

    /* Overlay: Extended Function Layer
     * ,-----------------------------------------------------------.
     * |  `| F1| F2| F3| F4| F5| F6| F7| F8| F9|F10|F11|F12| Delete|
     * |-----------------------------------------------------------|
     * |Lock |Mb4|WhU|Mb5|   | Tm|Clc|Hom|Up |End|   |Psc|Pau|  Ins|
     * |-----------------------------------------------------------|
     * |      |WhL|WhD|WhR|   |   |PgU|Lef|Dow|Rig|  '|  \|ConfigFN|
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |PgD|   |VDn|VUp|VMt|          |
     * |-----------------------------------------------------------|
     * |    |    |    |         Space          |    |BrFN|NpFN|    |
     * `-----------------------------------------------------------'
     * Mb: Mouse Button
     * Wh: Mouse Wheel
     * Clc: Calculator
     * Tm: Task Manager
     */
  [5] = LAYOUT(
        KC_GRV,KC_F1 ,KC_F2 ,KC_F3 ,KC_F4 ,KC_F5 ,KC_F6 ,KC_F7 ,KC_F8 ,KC_F9 ,KC_F10,KC_F11,KC_F12,KC_DEL, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       ______, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,______,______,                     ______,             ,______,______,______,______,______),
  ),
    KEYMAP_ANSI(
        GRV ,  F1,  F2,  F3,  F4,  F5,  F6,  F7,  F8,  F9, F10, F11, F12, DEL, \
        FN8 ,BTN4,WH_U,BTN5,______,FN23,CALC,HOME,  UP, END,______,PSCR,PAUS, INS, \
        ______,WH_L,WH_D,WH_R,______,______,PGUP,LEFT,DOWN,RGHT,QUOT,BSLS,      FN7, \
        ______,______,______,______,______,______,PGDN,______,VOLD,VOLU,MUTE,          ______, \
        ______,______,______,          SPC,                     ______, FN3, FN4,______),

    /* Overlay: Extended Locking Layer
     * ,-----------------------------------------------------------.
     * |Esc|   |   |   |   |   |   |   |   |   |   |   |   |       |
     * |-----------------------------------------------------------|
     * |Tab  |   |   |   |   |   |   |   |   |   |   |   |   |     |
     * |-----------------------------------------------------------|
     * |Unlock|   |   |   |   |   |   |   |   |   |   |   |   Enter|
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |   |   |   |   |   |          |
     * |-----------------------------------------------------------|
     * |    |    |    |                        |    |Gui |App |    |
     * `-----------------------------------------------------------'
     */
  [6] = LAYOUT(
        KC_ESC,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        KC_TAB,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       KC_ENT, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,______,______,                     ______,                     ______,KC_RGUI,KC_APP,______),
  ),
    KEYMAP_ANSI(
        ESC ,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        TAB ,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        FN9 ,______,______,______,______,______,______,______,______,______,______,______,      ENT, \
        ______,______,______,______,______,______,______,______,______,______,______,          ______, \
        ______,______,______,          ______,                    ______,RGUI, APP,______),

    /* Overlay: Browsing Layer
     * ,-----------------------------------------------------------.
     * |   | F1| F2| F3| F4| F5| F6| F7| F8| F9|F10|F11|F12|       |
     * |-----------------------------------------------------------|
     * |     |Mb4|Mb5|   |   |   |   |Mb4|MwU|Mb5|   |   |   |     |
     * |-----------------------------------------------------------|
     * |      |   |   |   |   |   |PgU|MwL|MwD|MwR|   |   |        |
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |PgD|   |   |   |   |          |
     * |-----------------------------------------------------------|
     * |    |    |    |         Space          |    |    |    |Exit|
     * `-----------------------------------------------------------'
     * Mb: Mouse Button
     * Mw: Mouse Wheel
     */
  [7] = LAYOUT(
        ______,KC_F1 ,KC_F2 ,KC_F3 ,KC_F4 ,KC_F5 ,KC_F6 ,KC_F7 ,KC_F8 ,KC_F9 ,KC_F10,KC_F11,KC_F12,______, \
        ______,KC_BTN4,KC_BTN5,______,______,______,______,KC_BTN4,KC_WH_U,KC_BTN5,______,______,______,______, \
        ______,______,______,______,______,______,KC_PGUP,KC_WH_L,KC_WH_D,KC_WH_R,______,______,       ______, \
        ______,______,______,______,______,______,KC_PGDN,______,______,______,______,              ______, \
        ______,______,______,                     ______,                     ______,______,______,______),
  ),

    /* Overlay: Numpad
     * ,-----------------------------------------------------------.
     * |   |  1|  2|  3|  4|  5|  6|  7|  8|  9|  0|  -|  +|Backspc|
     * |-----------------------------------------------------------|
     * |     |   |   |   |   |   |  -|  7|  8|  9|  /|   |   |     |
     * |-----------------------------------------------------------|
     * |      |   |   |   |   |   |  +|  4|  5|  6|  *|   |        |
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |  .|  1|  2|  3|   |     Enter|
     * |-----------------------------------------------------------|
     * |    |    |    |                       0|   .|    |NmLc|Exit|
     * `-----------------------------------------------------------'
     * Mb: Mouse Button
     * Mw: Mouse Wheel
     * Mc: Mouse Cursor
     */
  [8] = LAYOUT(
        ______,KC_P1 ,KC_P2 ,KC_P3 ,KC_P4 ,KC_P5 ,KC_P6 ,KC_P7 ,KC_P8 ,KC_P9 ,KC_P0 ,KC_PMNS,KC_PPLS,KC_BSPC, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       KC_PENT, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,______,______,                     ______,                     ______,______,______,______),
  ),
    KEYMAP_ANSI(
        ______,KP_1,KP_2,KP_3,KP_4,KP_5,KP_6,KP_7,KP_8,KP_9,KP_0,PMNS,PPLS,BSPC, \
        ______,______,______,______,______,______,PMNS,KP_7,KP_8,KP_9,PSLS,______,______,______, \
        ______,______,______,______,______,______,PPLS,KP_4,KP_5,KP_6,PAST,______,     PENT, \
        ______,______,______,______,______,______,PDOT,KP_1,KP_2,KP_3,______,          PENT, \
        ______,______,______,          KP_0,                    PDOT,______,NLCK, FN4),

    /* Overlay: Layout selection layer
     * ,-----------------------------------------------------------.
     * |   |Del|Gm |   |   |   |   |   |   |   |   |ISO|ANS|BootLdr|
     * |-----------------------------------------------------------|
     * |     |   |   |   |   |   |   |   |   |   |   |   |   |     |
     * |-----------------------------------------------------------|
     * |      |   |   |   |   |   |   |   |   |   |   |   |ConfigFN|
     * |-----------------------------------------------------------|
     * |        |   |   |   |   |   |   |   |   |   |   |          |
     * |-----------------------------------------------------------|
     * |    |    |    |                        |    |    |    |    |
     * `-----------------------------------------------------------'
     * Gm: Game
     */
  [9] = LAYOUT(
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,______,______, \
        ______,______,______,______,______,______,______,______,______,______,______,______,       ______, \
        ______,______,______,______,______,______,______,______,______,______,______,              ______, \
        ______,______,______,                     ______,                     ______,______,______,______),
  )
};

const macro_t *action_get_macro(keyrecord_t *record, uint8_t id, uint8_t opt)
{
  // MACRODOWN only works in this function
  return MACRO_NONE;
};

uint32_t layer_state_set_user(uint32_t state) {

    return state;
}
